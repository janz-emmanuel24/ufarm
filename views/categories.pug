extends base.pug

block title 
    title All Categories
block page-view
    h2.text-center Produces By Category
block content
    .pdt-main
        .pdt-category-boxes.mb-5
            h6 Horticulture Produces
        .container.mb-5.bxes
            .row.row-cols-1.row-cols-md-2.row-cols-lg-4.g-4
                if all_approved_produces
                    each approved_produce in all_approved_produces
                        if approved_produce.produce_type === 'horticulture'
                            .col
                                .card.h-100
                                    img.card-img-top.card-img-top.px-2.py-2(src=`/${approved_produce.produce_image}` alt='...')
                                    .card-body.text-center.my-4
                                        h4.card-title #{approved_produce.pname}
                                        h6.quantity.my-3(style='font-weight: lighter;') medium
                                        h6.price.my-3(style='font-weight: lighter;') Ugx. #{approved_produce.unit_price}
                                        if logged_in_public_user
                                            button.add2cart-btn.btn(type='button' data-bs-toggle='modal' data-bs-target=`#contact-sellerModal-${approved_produce._id}`)
                                                | Book Order
                                            .modal.fade(tabindex='-1' id=`contact-sellerModal-${approved_produce._id}` aria-labelledby=`contact-sellerModal-${approved_produce._id}Label` aria-hidden='true')
                                                .modal-dialog.modal-lg
                                                    .modal-content
                                                        .modal-header
                                                            h5#exampleModalLabel.modal-title #{approved_produce.pname} / Specify your Quantity
                                                            button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
                                                        .modal-body
                                                            form(action="/create_booking" method='post')
                                                                label(for='quantity') Quantity 
                                                                input(type='number' name='order_quantity')
                                                                br
                                                                label(for='public_user_contact') Contact
                                                                input(type='text' name='public_user_contact')
                                                                input(type='hidden' name='produce_id' value=`${approved_produce._id}`)
                                                                input(type='hidden' name='produce_owner_name' value=`${approved_produce.fullname}`)
                                                                input(type='hidden' name='produce_owner_contact' value=`${approved_produce.contact}`)
                                                                button.add2cart-btn.btn(type='submit') Confirm
                                                        .modal-footer
                                                            button.btn.btn-secondary(type='button' data-bs-dismiss='modal') Close
                                                            button.btn.btn-primary(type='button') Save changes
                                        else
                                            a.add2cart-btn.btn(href="/categories_check") Buy  
        .pdt-category-boxes.mb-5
            h6 Poultry Produces
        .container.mb-5.bxes
            .row.row-cols-1.row-cols-md-2.row-cols-lg-4.g-4
                if all_approved_produces
                    each approved_produce in all_approved_produces
                        if approved_produce.produce_type === 'poultry'
                            .col
                                .card.h-100
                                    img.card-img-top.card-img-top.px-2.py-2(src=`/${approved_produce.produce_image}` alt='...')
                                    .card-body.text-center.my-4
                                        h4.card-title #{approved_produce.pname}
                                        h6.quantity.my-3(style='font-weight: lighter;') medium
                                        h6.price.my-3(style='font-weight: lighter;') Ugx. #{approved_produce.unit_price}
                                        if logged_in_public_user
                                            button.add2cart-btn.btn(type='button' data-bs-toggle='modal' data-bs-target=`#contact-sellerModal-${approved_produce._id}`)
                                                | Book Order
                                            .modal.fade(tabindex='-1' id=`contact-sellerModal-${approved_produce._id}` aria-labelledby=`contact-sellerModal-${approved_produce._id}Label` aria-hidden='true')
                                                .modal-dialog.modal-lg
                                                    .modal-content
                                                        .modal-header
                                                            h5#exampleModalLabel.modal-title #{approved_produce.pname} / Specify your Quantity
                                                            button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
                                                        .modal-body
                                                            form(action="/create_booking" method='post')
                                                                label(for='quantity') Quantity 
                                                                input(type='number' name='order_quantity')
                                                                br
                                                                label(for='public_user_contact') Contact
                                                                input(type='text' name='public_user_contact')
                                                                input(type='hidden' name='produce_id' value=`${approved_produce._id}`)
                                                                input(type='hidden' name='produce_owner_name' value=`${approved_produce.fullname}`)
                                                                input(type='hidden' name='produce_owner_contact' value=`${approved_produce.contact}`)
                                                                button.add2cart-btn.btn(type='submit') Confirm
                                                        .modal-footer
                                                            button.btn.btn-secondary(type='button' data-bs-dismiss='modal') Close
                                                            button.btn.btn-primary(type='button') Save changes
                                        else
                                            a.add2cart-btn.btn(href="/categories_check") Buy 
        .pdt-category-boxes.mb-5
            h6 Diary Produces
        .container.mb-5.bxes
            .row.row-cols-1.row-cols-md-2.row-cols-lg-4.g-4
                if all_approved_produces
                    each approved_produce in all_approved_produces
                        if approved_produce.produce_type === 'dairy'
                            .col
                                .card.h-100
                                    img.card-img-top.card-img-top.px-2.py-2(src=`/${approved_produce.produce_image}` alt='...')
                                    .card-body.text-center.my-4
                                        h4.card-title #{approved_produce.pname}
                                        h6.quantity.my-3(style='font-weight: lighter;') medium
                                        h6.price.my-3(style='font-weight: lighter;') Ugx. #{approved_produce.unit_price}
                                        if logged_in_public_user
                                            button.add2cart-btn.btn(type='button' data-bs-toggle='modal' data-bs-target=`#contact-sellerModal-${approved_produce._id}`)
                                                | Book Order
                                            .modal.fade(tabindex='-1' id=`contact-sellerModal-${approved_produce._id}` aria-labelledby=`contact-sellerModal-${approved_produce._id}Label` aria-hidden='true')
                                                .modal-dialog.modal-lg
                                                    .modal-content
                                                        .modal-header
                                                            h5#exampleModalLabel.modal-title #{approved_produce.pname} / Specify your Quantity
                                                            button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
                                                        .modal-body
                                                            form(action="/create_booking" method='post')
                                                                label(for='quantity') Quantity 
                                                                input(type='number' name='order_quantity')
                                                                br
                                                                label(for='public_user_contact') Contact
                                                                input(type='text' name='public_user_contact')
                                                                input(type='hidden' name='produce_id' value=`${approved_produce._id}`)
                                                                input(type='hidden' name='produce_owner_name' value=`${approved_produce.fullname}`)
                                                                input(type='hidden' name='produce_owner_contact' value=`${approved_produce.contact}`)
                                                                button.add2cart-btn.btn(type='submit') Confirm
                                                        .modal-footer
                                                            button.btn.btn-secondary(type='button' data-bs-dismiss='modal') Close
                                                            button.btn.btn-primary(type='button') Save changes
                                        else
                                            a.add2cart-btn.btn(href="/categories_check") Buy 