doctype html
head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    link(rel='stylesheet' href='bootstrap-5.0.2-dist/bootstrapCss/bootstrap.css')
    link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT' crossorigin='anonymous')
    link(rel='stylesheet' href='css/style.css')
    title Farmer One Dashboard
body
    .farmers-header
        .banner_menu
            nav.navbar.navbar-expand-lg.navbar-light
                .container-fluid
                    a.navbar-brand(href='#') Navbar
                    button.navbar-toggler(type='button' data-bs-toggle='collapse' data-bs-target='#navbarNavAltMarkup' aria-controls='navbarNavAltMarkup' aria-expanded='false' aria-label='Toggle navigation')
                        span.navbar-toggler-icon
                    #navbarNavAltMarkup.collapse.navbar-collapse
                        .navbar-nav 
                            a.nav-link.active(href="/" aria-current="page") Home
                            form.justify-content-end(action="/logout" method='post')
                                button.btn.btn-primary.d-flex.justify-content-end(type="submit") Logout 
        img(src='img/ourfarmers.jpg' alt='')
        .farmers-head
            h3.text-center Urban Farmer Dashboard
            p ~ Just some text ~
    .farmers-main
        .dashboard-tabs.urban-farmer-dashboard
            ul#myTab.nav.nav-tabs(role='tablist')
                li.nav-item(role='presentation')
                    button#home-tab.nav-link.active(data-bs-toggle='tab' data-bs-target='#home' type='button' role='tab' aria-controls='home' aria-selected='true') Declined Produce
                li.nav-item(role='presentation')
                    button#profile-tab.nav-link(data-bs-toggle='tab' data-bs-target='#profile' type='button' role='tab' aria-controls='profile' aria-selected='false') Pending Approval
                li.nav-item(role='presentation')
                    button#bookings-tab.nav-link(data-bs-toggle='tab' data-bs-target='#bookings' type='button' role='tab' aria-controls='booings' aria-selected='false') Approved Produce
                li.nav-item(role='presentation')
                    button#contact-tab.nav-link(data-bs-toggle='tab' data-bs-target='#contact' type='button' role='tab' aria-controls='contact' aria-selected='false') Registration
            // Declined Produces - if declined provide an option of editing else have an option of deleting and uploading again
            #myTabContent.tab-content
                #home.tab-pane.fade.show.active(role='tabpanel' aria-labelledby='home-tab')
                    .container.mt-5
                        .row
                            .col-md-6.mt-3
                               p this is where declined produce will be
                               if user 
                                    p #{user._id} #{user.fullname}
                // Pending Approval
                #profile.tab-pane.fade(role='tabpanel' aria-labelledby='profile-tab')
                    .container.mt-5
                        .row
                            each userProduce in userProduces
                                if userProduce.product_status === 'pending'
                                    .col-md-6.mt-3
                                        .row
                                            .col-md-7
                                                p(style='text-align: left;')
                                                    strong Produce ID:
                                                    i  #{userProduce._id}
                                                p(style='text-align: left;')
                                                    strong Produce Category:
                                                    i  #{userProduce.produce_type}
                                                //- p(style='text-align: left;')
                                                //-     strong Produce Subcategory:
                                                //-     i  Vegetables
                                                p(style='text-align: left;')
                                                    strong Produce Name:
                                                    i  #{userProduce.pname}
                                                p(style='text-align: left;')
                                                    strong Produce Quantity:
                                                    i  #{userProduce.quantity}
                                                p(style='text-align: left;')
                                                    strong Price Per Quantity:
                                                    i  #{userProduce.unit_price}
                                                p(style='text-align: left;')
                                                    strong Produce Status:
                                                    i  #{userProduce.product_status}
                                                p(style='text-align: left;')
                                                    strong Upload Date:
                                                    i  #{userProduce.upload_date}
                                                p(style='text-align: left;')
                                                    strong U.F ward:
                                                    i  #{userProduce.pward}
                                                //- p(style='text-align: left;')
                                                //-     strong Contact:
                                                //-     i  0700000001
                                            .col-md-5
                                                h1.h3 Uploaded Image
                                                .text-center
                                                    img.img-thumbnail(src='/'+userProduce.produce_image alt='...')
                                            hr
                // Approved Produce
                #bookings.tab-pane.fade(role='tabpanel' aria-labelledby='bookings-tab')
                    .container.mt-5
                        .row
                            each userProduce in userProduces 
                                if userProduce.product_status == 'approved'
                                    .col-md-6.mt-3
                                        p(style='text-align: left;')
                                            strong Produce ID:
                                            i  #{userProduce._id}
                                        p(style='text-align: left;')
                                            strong Produce Category:
                                            i  #{userProduce.produce_type}
                                        //- p(style='text-align: left;')
                                        //-     strong Produce Subcategory:
                                        //-     i  Vegetables
                                        p(style='text-align: left;')
                                            strong Produce Name:
                                            i  #{userProduce.pname}
                                        p(style='text-align: left;')
                                            strong Produce Quantity:
                                            i  #{userProduce.quantity}
                                        p(style='text-align: left;')
                                            strong Price Per Quantity:
                                            i  #{userProduce.unit_price}
                                        p(style='text-align: left;')
                                            strong Produce Status:
                                            i  #{userProduce.product_status}
                                        p(style='text-align: left;')
                                            strong Upload Date:
                                            i  #{userProduce.upload_date}
                                        p(style='text-align: left;')
                                            strong U.F ward:
                                            i  #{userProduce.pward}
                                        p(style='text-align: left;')
                                            strong Produce Availability:
                                            i  #{userProduce.produce_availability}
                                        .row
                                            .col-md-6
                                                // approve and a modal window shows up where we put the message(to change the purchase message) and the details of the delivered: contact and name
                                                a.general_button(href='#') Update Product Availability
                                //- else 
                                //-     p No approved produces
                                    
                // Registration
                #contact.tab-pane.fade(role='tabpanel' aria-labelledby='contact-tab')
                    .container.mt-5
                        form(action='/urban_farmer_dashboard' method='post' enctype="multipart/form-data")
                            .row
                                //- if user
                                //-     .col-md-4.mb-3
                                //-         label.form-label(for='fo_name') Produce Owner ID:
                                //-         input#fo_name.form-control(type='text' name='produce_owner' value=user._id)
                                //-     .col-md-4.mb-3
                                //-         label.form-label(for='fo_name') Produce Owner Name:
                                //-         input#fo_name.form-control(type='text' name='fullname' value=user.fullname)
                                .col-md-4.mb-3
                                    label.form-label(for='fo_name') Produce Name:
                                    input#fo_name.form-control(type='text' name='pname')
                                .col-md-2.mb-3
                                    label.form-label(for='fo_ward') Produce Ward:
                                    input#fo_ward.form-control(type='text' name='pward' value=`${loggedInUrbanFarmer.ward}` readonly)
                                //- .col-md-4.mb-3
                                //-     label.form-label(for='upload_date') Upload Date:
                                //-     input#date_of_birth.form-control(type='date' name='upload_date')
                                .col-md-4.mb-3
                                    label.form-label(for='unit_price') Unit Price:
                                    input#unit_price.form-control(type='number' name='unit_price')
                                .col-md-2.mb-3
                                    label.form-label(for='quantity') Quantity
                                    input#quantity.form-control(type='number' name='quantity')
                                .col-md-3.mb-3
                                    label.form-label(for='produce_type') Produce Type:
                                    select#produce_type.form-select(name="produce_type")
                                        option(selected='') Select a produce type
                                        option(value='horticulture') Horticulture
                                        option(value='poultry') Poultry
                                        option(value='diary') Diary
                                //- .col-md-3.mb-3
                                //-     label.form-label(for='produce_status') Produce Status:
                                //-     input#period_of_stay.form-control(type='text' name='produce_status')
                                .col-md-4.mb-3
                                    label.form-label(for='produce_image') produce Image
                                    input#produce_image.form-control(type='file' name='produce_image')
                                .col-md-2.mb-3
                                    label.form-label(for='produce_availability') Produce Availability
                                    input#produce_availability.form-control(type='text' name='produce_availability')
                                .col-md-3.mb-3
                                    label.form-label.d-block.mb-3 Mode of Payment:
                                    .form-check.d-inline-block
                                        input#mode_of_payment.form-check-input(type='radio' name='mode_of_payment' value='mobile money')
                                        label.form-check-label(for='mode_of_payment')
                                            | Mobile Money
                                    .form-check.d-inline-block.ms-4
                                        input#mode_of_payment.form-check-input(type='radio' name='mode_of_payment' value='cash on delivery')
                                        label.form-check-label(for='mode_of_payment')
                                            | Cash On Delivery
                            button.form_btn.mt-5(type='submit') Upload
#footer
    .container
        .row
            .col-md-4.p-3.mt-5
                h5 Urban Farmer:
                p From your farm to our stores and from our stores to your hand.
                h5 Our Clients:
                p From our stores to your household.
                i We strive to make your meals delicious
            .col-sm-4.col-md-4.p-3.mt-5
                h5 Pages:
                ul
                    li
                        a(href='#') Home
                    li
                        a(href='#') Shop
                    li
                        a(href='#') Our Farmers
                    li
                        a(href='#') About us
                    li
                        a(href='#') Testimonials
            .col-sm-4.col-md-4.p-3.mt-5
                h5 Information:
                h6 Main Office:
                ul
                    li Wandegeya Market
                    li South Wing - shop 2001A
                h6 Tel: 0789482852
                h5 Opening Hours
                ul
                    li Monday - Friday: 8am - 8pm
                    li Saturday - Sunday: 10am - 2pm
                h5 Socials
                .socials
                    ul
                        li
                            a(href='#') Facebook
                        li
                            a(href='#') whatsApp
                        li
                            a(href='#') Twitter
    .careof
        p.text-center &copy; 2022 Ufarm. All rights reserved
script(src='../../srcs/bootstrap-5.0.2-dist/js/bootstrap.min.js')
script(src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js' integrity='sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3' crossorigin='anonymous')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js' integrity='sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz' crossorigin='anonymous')
